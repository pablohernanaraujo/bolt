{"version":3,"file":"popover.js","sources":["../../../src/ui/popover/popover.tsx"],"sourcesContent":["'use client';\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { X } from 'lucide-react';\nimport { useEffect, useId, useState } from 'react';\nimport { Button as AriaButton, Popover as AriaPopover, Dialog, DialogTrigger, Heading, OverlayArrow, } from 'react-aria-components';\nimport { Icon } from '@/icons';\nimport { darkTheme, lightTheme } from '@/tokens/themes';\nimport { getAriaPlacement, getOffsetForSize } from '../tooltip/helpers';\nimport { buildPopoverArrowClassName, buildPopoverBodyClassName, buildPopoverClassName, buildPopoverFooterClassName, buildPopoverHeaderClassName, } from './helpers';\nimport * as styles from './popover.css';\nexport const PopoverTrigger = ({ delay, closeDelay, children, ...props }) => _jsx(DialogTrigger, { ...props, children: children });\nexport const Popover = ({ placement = 'top', size = 'medium', variant = 'default', offset: customOffset, showArrow = false, maxWidth = 320, isDismissable = true, isKeyboardDismissDisabled = false, className, children, ...props }) => {\n    const [currentTheme, setCurrentTheme] = useState('light');\n    useEffect(() => {\n        const detectTheme = () => {\n            if (typeof document !== 'undefined') {\n                const theme = document.documentElement.getAttribute('data-theme') || 'light';\n                setCurrentTheme(theme);\n            }\n        };\n        detectTheme();\n        const observer = new MutationObserver((mutations) => {\n            for (const mutation of mutations) {\n                if (mutation.type === 'attributes' &&\n                    mutation.attributeName === 'data-theme') {\n                    detectTheme();\n                }\n            }\n        });\n        if (typeof document !== 'undefined') {\n            observer.observe(document.documentElement, {\n                attributes: true,\n                attributeFilter: ['data-theme'],\n            });\n        }\n        return () => observer.disconnect();\n    }, []);\n    const offset = getOffsetForSize(size, customOffset);\n    const ariaPlacement = getAriaPlacement(placement);\n    const themeClass = currentTheme === 'light' ? lightTheme : darkTheme;\n    const popoverClassName = `${themeClass} ${buildPopoverClassName(size, variant, className)} ${styles.responsivePopover}`;\n    return (_jsx(AriaPopover, { placement: ariaPlacement, offset: offset, className: popoverClassName, style: { maxWidth: `${maxWidth}px` }, ...props, children: _jsxs(Dialog, { children: [showArrow && (_jsx(OverlayArrow, { children: _jsx(\"div\", { className: `${themeClass} ${buildPopoverArrowClassName(variant)}` }) })), _jsx(\"div\", { children: children })] }) }));\n};\nexport const PopoverContent = ({ title, showCloseButton = true, showHeaderDivider = true, children, className, ...props }) => {\n    const hasHeader = !!title || showCloseButton;\n    return (_jsxs(\"div\", { className: className, ...props, children: [hasHeader && (_jsx(PopoverHeader, { title: title, showCloseButton: showCloseButton, showDivider: showHeaderDivider })), _jsx(PopoverBody, { hasHeader: hasHeader, children: children })] }));\n};\nexport const PopoverHeader = ({ title, showCloseButton = true, showDivider = true, children, className, }) => {\n    const titleId = useId();\n    return (_jsxs(\"header\", { className: buildPopoverHeaderClassName(showDivider, className), children: [_jsxs(\"div\", { children: [title && (_jsx(Heading, { id: titleId, className: styles.popoverTitle, slot: \"title\", children: title })), children] }), showCloseButton && (_jsx(AriaButton, { className: styles.popoverCloseButton, \"aria-label\": \"Close popover\", slot: \"close\", children: _jsx(Icon, { icon: X, size: \"sm\" }) }))] }));\n};\nexport const PopoverBody = ({ children, hasHeader, hasFooter, className }) => (_jsx(\"div\", { className: buildPopoverBodyClassName(hasHeader, hasFooter, className), children: children }));\nexport const PopoverFooter = ({ children, showDivider = true, className, }) => (_jsx(\"footer\", { className: buildPopoverFooterClassName(showDivider, className), children: children }));\nexport const PopoverArrow = ({ variant = 'default', className, }) => (_jsx(\"div\", { className: buildPopoverArrowClassName(variant, className) }));\nPopover.displayName = 'Popover';\nPopoverTrigger.displayName = 'PopoverTrigger';\nPopoverContent.displayName = 'PopoverContent';\nPopoverHeader.displayName = 'PopoverHeader';\nPopoverBody.displayName = 'PopoverBody';\nPopoverFooter.displayName = 'PopoverFooter';\nPopoverArrow.displayName = 'PopoverArrow';\n"],"names":["_jsx","styles.responsivePopover","AriaPopover","_jsxs","styles.popoverTitle","AriaButton","styles.popoverCloseButton"],"mappings":"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"}