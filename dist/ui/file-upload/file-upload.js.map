{"version":3,"file":"file-upload.js","sources":["../../../src/ui/file-upload/file-upload.tsx"],"sourcesContent":["'use client';\nimport { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport React, { createContext, forwardRef, useCallback, useContext, useEffect, useRef, useState, } from 'react';\nimport { File, FileText, Icon, Image, X } from '@/icons';\nimport { Button } from '../button';\nimport * as styles from './file-upload.css';\nimport { buildAcceptString, buildFileUploadItemClassName, buildFileUploadListClassName, buildFileUploadRootClassName, buildFileUploadTriggerClassName, cleanupFilePreviews, fileListToArray, formatFileSize, getFileExtension, getFileTypeIcon, isImageFile, validateFiles, } from './helpers';\nconst FileUploadContext = createContext(null);\nconst useFileUpload = () => {\n    const context = useContext(FileUploadContext);\n    if (!context) {\n        throw new Error('FileUpload components must be used within FileUpload.Root');\n    }\n    return context;\n};\nconst FileUploadRoot = forwardRef(({ children, multiple = false, maxFileSize, maxFiles, accept, files: controlledFiles, onFilesChange, onError, size = 'medium', variant = 'outline', isDisabled = false, hasError = false, className, ...props }, ref) => {\n    const [internalFiles, setInternalFiles] = useState([]);\n    const files = controlledFiles ?? internalFiles;\n    const setFiles = onFilesChange ?? setInternalFiles;\n    const [isDragOver, setIsDragOver] = useState(false);\n    const handleFiles = useCallback((newFiles) => {\n        if (isDisabled)\n            return;\n        const validation = validateFiles(newFiles, maxFiles, maxFileSize, accept);\n        if (!validation.isValid) {\n            onError?.(validation.message || 'Error de validación');\n            return;\n        }\n        const fileUploadFiles = fileListToArray(newFiles);\n        if (multiple) {\n            const combinedFiles = [...files, ...fileUploadFiles];\n            if (maxFiles && combinedFiles.length > maxFiles) {\n                onError?.(`Máximo ${maxFiles} archivos permitidos`);\n                return;\n            }\n            setFiles(combinedFiles);\n        }\n        else {\n            cleanupFilePreviews(files);\n            setFiles(fileUploadFiles);\n        }\n    }, [\n        files,\n        multiple,\n        maxFiles,\n        maxFileSize,\n        accept,\n        isDisabled,\n        onError,\n        setFiles,\n    ]);\n    const handleFileRemove = useCallback((fileToRemove) => {\n        if (typeof window !== 'undefined' && fileToRemove.preview) {\n            URL.revokeObjectURL(fileToRemove.preview);\n        }\n        const updatedFiles = files.filter((file) => file.id !== fileToRemove.id);\n        setFiles(updatedFiles);\n    }, [files, setFiles]);\n    const handleDragOver = useCallback((e) => {\n        if (isDisabled)\n            return;\n        e.preventDefault();\n        setIsDragOver(true);\n    }, [isDisabled]);\n    const handleDragLeave = useCallback((e) => {\n        if (isDisabled)\n            return;\n        e.preventDefault();\n        setIsDragOver(false);\n    }, [isDisabled]);\n    const handleDrop = useCallback((e) => {\n        if (isDisabled)\n            return;\n        e.preventDefault();\n        setIsDragOver(false);\n        const droppedFiles = Array.from(e.dataTransfer.files);\n        if (droppedFiles.length > 0) {\n            handleFiles(droppedFiles);\n        }\n    }, [isDisabled, handleFiles]);\n    useEffect(() => () => {\n        cleanupFilePreviews(files);\n    }, [files]);\n    const contextValue = {\n        files,\n        multiple,\n        maxFileSize,\n        maxFiles,\n        accept,\n        isDisabled,\n        hasError,\n        size,\n        variant,\n        onFilesChange: setFiles,\n        onError,\n        onFileRemove: handleFileRemove,\n    };\n    return (_jsx(FileUploadContext.Provider, { value: contextValue, children: _jsx(\"div\", { ref: ref, className: buildFileUploadRootClassName(variant, size, isDisabled, hasError, className), onDragOver: handleDragOver, onDragLeave: handleDragLeave, onDrop: handleDrop, \"data-drag-over\": isDragOver, \"data-disabled\": isDisabled, ...props, children: children }) }));\n});\nFileUploadRoot.displayName = 'FileUpload.Root';\nconst FileUploadHiddenInput = forwardRef(({ multiple, accept, className, ...props }, ref) => {\n    const { multiple: contextMultiple, accept: contextAccept } = useFileUpload();\n    return (_jsx(\"input\", { ref: ref, type: \"file\", multiple: multiple ?? contextMultiple, accept: accept ?? buildAcceptString(contextAccept), className: `${styles.hiddenInput} ${className || ''}`, ...props }));\n});\nFileUploadHiddenInput.displayName = 'FileUpload.HiddenInput';\nconst FileUploadTrigger = forwardRef(({ children, asChild = false, size, isDisabled, className, onClick, ...props }, ref) => {\n    const { multiple, accept, isDisabled: contextDisabled, size: contextSize, onFilesChange, } = useFileUpload();\n    const inputRef = useRef(null);\n    const handleClick = useCallback(() => {\n        if (!contextDisabled && !isDisabled) {\n            inputRef.current?.click();\n        }\n    }, [contextDisabled, isDisabled]);\n    const handleButtonClick = useCallback((e) => {\n        handleClick();\n        onClick?.(e);\n    }, [handleClick, onClick]);\n    const handleFileChange = useCallback((e) => {\n        const files = e.target.files;\n        if (files && files.length > 0) {\n            const fileArray = fileListToArray(files);\n            onFilesChange?.(fileArray);\n        }\n        e.target.value = '';\n    }, [onFilesChange]);\n    const finalSize = size ?? contextSize ?? 'medium';\n    const finalDisabled = isDisabled ?? contextDisabled;\n    if (asChild) {\n        const childElement = React.Children.only(children);\n        return (_jsxs(_Fragment, { children: [_jsx(\"input\", { ref: inputRef, type: \"file\", multiple: multiple, accept: buildAcceptString(accept), onChange: handleFileChange, className: styles.hiddenInput, disabled: finalDisabled }), React.cloneElement(childElement, {\n                    ...(typeof childElement.props === 'object' &&\n                        childElement.props !== null\n                        ? childElement.props\n                        : {}),\n                    onClick: (e) => {\n                        handleClick();\n                        const childProps = typeof childElement.props === 'object' &&\n                            childElement.props !== null\n                            ? childElement.props\n                            : {};\n                        childProps.onClick?.(e);\n                        onClick?.(e);\n                    },\n                    disabled: finalDisabled ||\n                        (typeof childElement.props === 'object' &&\n                            childElement.props !== null\n                            ? childElement.props.disabled\n                            : false),\n                    className: `${buildFileUploadTriggerClassName(finalSize, finalDisabled, className)} ${(typeof childElement.props === 'object' && childElement.props !== null ? childElement.props.className : '') || ''}`.trim(),\n                })] }));\n    }\n    return (_jsxs(_Fragment, { children: [_jsx(\"input\", { ref: inputRef, type: \"file\", multiple: multiple, accept: buildAcceptString(accept), onChange: handleFileChange, className: styles.hiddenInput, disabled: finalDisabled }), _jsx(Button, { ref: ref, size: finalSize, variant: \"secondary\", isDisabled: finalDisabled, className: className, onClick: handleButtonClick, ...props, children: children })] }));\n});\nFileUploadTrigger.displayName = 'FileUpload.Trigger';\nconst FileUploadList = forwardRef(({ files: propFiles, renderItem, showPreviews = true, className, ...props }, ref) => {\n    const { files: contextFiles } = useFileUpload();\n    const files = propFiles ?? contextFiles;\n    if (files.length === 0) {\n        return (_jsx(\"div\", { ref: ref, className: styles.emptyState, children: \"No files selected\" }));\n    }\n    return (_jsx(\"div\", { ref: ref, className: buildFileUploadListClassName(className), ...props, children: files.map((file, index) => (_jsx(\"div\", { children: renderItem ? (renderItem(file, index)) : (_jsx(FileUploadItem, { file: file, index: index, showPreview: showPreviews })) }, file.id))) }));\n});\nFileUploadList.displayName = 'FileUpload.List';\nconst FileUploadItem = forwardRef(({ file, index, showPreview = true, onRemove, hasError = false, className, ...props }, ref) => {\n    const { onFileRemove } = useFileUpload();\n    const handleRemove = useCallback(() => {\n        onRemove?.(file);\n        onFileRemove(file);\n    }, [file, onRemove, onFileRemove]);\n    const fileTypeIcon = getFileTypeIcon(file);\n    const IconComponent = fileTypeIcon === 'image'\n        ? Image\n        : fileTypeIcon === 'file-text'\n            ? FileText\n            : File;\n    return (_jsxs(\"div\", { ref: ref, className: buildFileUploadItemClassName(hasError, className), ...props, children: [showPreview && file.preview && isImageFile(file) ? (_jsx(\"img\", { src: file.preview, alt: file.name, className: styles.preview })) : (_jsx(\"div\", { className: styles.fileIcon, children: _jsx(Icon, { icon: IconComponent, size: \"sm\" }) })), _jsxs(\"div\", { className: styles.fileInfo, children: [_jsx(\"div\", { className: styles.fileName, children: file.name }), _jsxs(\"div\", { className: styles.fileDetails, children: [_jsx(\"span\", { className: styles.fileSize, children: formatFileSize(file.size) }), _jsx(\"span\", { className: styles.fileType, children: getFileExtension(file.name) || 'file' })] })] }), _jsx(FileUploadDeleteTrigger, { file: file, onDelete: handleRemove, \"aria-label\": `Remove ${file.name}`, children: _jsx(Icon, { icon: X, size: \"sm\" }) })] }));\n});\nFileUploadItem.displayName = 'FileUpload.Item';\nconst FileUploadDeleteTrigger = forwardRef(({ file, onDelete, children, 'aria-label': ariaLabel, className, ...props }, ref) => {\n    const handleClick = useCallback(() => {\n        onDelete?.(file);\n    }, [file, onDelete]);\n    return (_jsx(\"button\", { ref: ref, type: \"button\", className: `${styles.deleteButton} ${className || ''}`, onClick: handleClick, \"aria-label\": ariaLabel || `Remove ${file.name}`, ...props, children: children || _jsx(Icon, { icon: X, size: \"sm\" }) }));\n});\nFileUploadDeleteTrigger.displayName = 'FileUpload.DeleteTrigger';\nexport const FileUpload = {\n    Root: FileUploadRoot,\n    HiddenInput: FileUploadHiddenInput,\n    Trigger: FileUploadTrigger,\n    List: FileUploadList,\n    Item: FileUploadItem,\n    DeleteTrigger: FileUploadDeleteTrigger,\n};\n"],"names":["_jsx","styles.hiddenInput","_jsxs","_Fragment","Button","styles.emptyState","styles.preview","styles.fileIcon","styles.fileInfo","styles.fileName","styles.fileDetails","styles.fileSize","styles.fileType","styles.deleteButton"],"mappings":"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"}