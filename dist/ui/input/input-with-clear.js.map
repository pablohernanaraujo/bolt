{"version":3,"file":"input-with-clear.js","sources":["../../../src/ui/input/input-with-clear.tsx"],"sourcesContent":["'use client';\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { X } from 'lucide-react';\nimport { forwardRef, useCallback, useState } from 'react';\nimport { InputGroup, InputRightElement } from '../input-group';\nimport { Input } from './input';\nexport const InputWithClear = forwardRef(({ onClear, clearIcon, alwaysShowClear = false, value: controlledValue, defaultValue, onChange, variant = 'outline', size = 'medium', isDisabled, hasError, className, style, ...props }, ref) => {\n    const [internalValue, setInternalValue] = useState(defaultValue ?? '');\n    const isControlled = controlledValue !== undefined;\n    const currentValue = isControlled ? controlledValue : internalValue;\n    const handleChange = useCallback((e) => {\n        if (!isControlled) {\n            setInternalValue(e.target.value);\n        }\n        onChange?.(e);\n    }, [isControlled, onChange]);\n    const handleClear = useCallback(() => {\n        if (!isDisabled) {\n            if (!isControlled) {\n                setInternalValue('');\n            }\n            onClear?.();\n            const syntheticEvent = {\n                target: { value: '' },\n                currentTarget: { value: '' },\n            };\n            onChange?.(syntheticEvent);\n        }\n    }, [isDisabled, isControlled, onClear, onChange]);\n    const showClearButton = alwaysShowClear || (currentValue && String(currentValue).length > 0);\n    return (_jsxs(InputGroup, { variant: variant, size: size, isDisabled: isDisabled, hasError: hasError, children: [_jsx(Input, { ref: ref, value: currentValue, onChange: handleChange, isDisabled: isDisabled, hasError: hasError, className: typeof className === 'string' ? className : undefined, style: typeof style === 'object' ? style : undefined, ...props }), showClearButton && !isDisabled && (_jsx(InputRightElement, { isInteractive: true, children: _jsx(\"button\", { type: \"button\", onClick: handleClear, \"aria-label\": \"Clear input\", tabIndex: -1, children: clearIcon || _jsx(X, { size: 16 }) }) }))] }));\n});\nInputWithClear.displayName = 'InputWithClear';\n"],"names":["_jsxs","_jsx","Input"],"mappings":";;;;;;;;;AAMY,MAAC,cAAc,GAAG,UAAU,CAAC,CAAC,EAAE,OAAO,EAAE,SAAS,EAAE,eAAe,GAAG,KAAK,EAAE,KAAK,EAAE,eAAe,EAAE,YAAY,EAAE,QAAQ,EAAE,OAAO,GAAG,SAAS,EAAE,IAAI,GAAG,QAAQ,EAAE,UAAU,EAAE,QAAQ,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,KAAK,EAAE,EAAE,GAAG,KAAK;AAC3O,IAAI,MAAM,CAAC,aAAa,EAAE,gBAAgB,CAAC,GAAG,QAAQ,CAAC,YAAY,IAAI,EAAE,CAAC;AAC1E,IAAI,MAAM,YAAY,GAAG,eAAe,KAAK,SAAS;AACtD,IAAI,MAAM,YAAY,GAAG,YAAY,GAAG,eAAe,GAAG,aAAa;AACvE,IAAI,MAAM,YAAY,GAAG,WAAW,CAAC,CAAC,CAAC,KAAK;AAC5C,QAAQ,IAAI,CAAC,YAAY,EAAE;AAC3B,YAAY,gBAAgB,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC;AAC5C,QAAQ;AACR,QAAQ,QAAQ,GAAG,CAAC,CAAC;AACrB,IAAI,CAAC,EAAE,CAAC,YAAY,EAAE,QAAQ,CAAC,CAAC;AAChC,IAAI,MAAM,WAAW,GAAG,WAAW,CAAC,MAAM;AAC1C,QAAQ,IAAI,CAAC,UAAU,EAAE;AACzB,YAAY,IAAI,CAAC,YAAY,EAAE;AAC/B,gBAAgB,gBAAgB,CAAC,EAAE,CAAC;AACpC,YAAY;AACZ,YAAY,OAAO,IAAI;AACvB,YAAY,MAAM,cAAc,GAAG;AACnC,gBAAgB,MAAM,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE;AACrC,gBAAgB,aAAa,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE;AAC5C,aAAa;AACb,YAAY,QAAQ,GAAG,cAAc,CAAC;AACtC,QAAQ;AACR,IAAI,CAAC,EAAE,CAAC,UAAU,EAAE,YAAY,EAAE,OAAO,EAAE,QAAQ,CAAC,CAAC;AACrD,IAAI,MAAM,eAAe,GAAG,eAAe,KAAK,YAAY,IAAI,MAAM,CAAC,YAAY,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC;AAChG,IAAI,QAAQA,IAAK,CAAC,UAAU,EAAE,EAAE,OAAO,EAAE,OAAO,EAAE,IAAI,EAAE,IAAI,EAAE,UAAU,EAAE,UAAU,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,CAACC,GAAI,CAACC,WAAK,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,KAAK,EAAE,YAAY,EAAE,QAAQ,EAAE,YAAY,EAAE,UAAU,EAAE,UAAU,EAAE,QAAQ,EAAE,QAAQ,EAAE,SAAS,EAAE,OAAO,SAAS,KAAK,QAAQ,GAAG,SAAS,GAAG,SAAS,EAAE,KAAK,EAAE,OAAO,KAAK,KAAK,QAAQ,GAAG,KAAK,GAAG,SAAS,EAAE,GAAG,KAAK,EAAE,CAAC,EAAE,eAAe,IAAI,CAAC,UAAU,KAAKD,GAAI,CAAC,iBAAiB,EAAE,EAAE,aAAa,EAAE,IAAI,EAAE,QAAQ,EAAEA,GAAI,CAAC,QAAQ,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,OAAO,EAAE,WAAW,EAAE,YAAY,EAAE,aAAa,EAAE,QAAQ,EAAE,EAAE,EAAE,QAAQ,EAAE,SAAS,IAAIA,GAAI,CAAC,CAAC,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;AAChmB,CAAC;AACD,cAAc,CAAC,WAAW,GAAG,gBAAgB;;;;"}