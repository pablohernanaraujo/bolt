{"version":3,"file":"pin-input.js","sources":["../../../src/ui/pin-input/pin-input.tsx"],"sourcesContent":["'use client';\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { useCallback, useEffect, useRef, useState, } from 'react';\nimport { buildPinInputClassName, createFieldRefs, getPinValue, isComplete, splitValue, } from './helpers';\nimport { PinInputContext } from './pin-input-context';\nimport { hiddenInput, pinInputContainerRecipe } from './pin-input.css';\nexport const PinInput = ({ length = 4, type = 'numeric', variant = 'outline', size = 'medium', hasError = false, disabled = false, autoFocus = false, masked = false, maskChar = 'â€¢', value, defaultValue = '', onChange, onComplete, onFocus, onBlur, 'aria-label': ariaLabel, 'aria-describedby': ariaDescribedBy, className, children, }) => {\n    const [internalValues, setInternalValues] = useState(() => splitValue(defaultValue, length));\n    const isControlled = value !== undefined;\n    const currentValues = isControlled\n        ? splitValue(value, length)\n        : internalValues;\n    const fieldRefs = useRef(createFieldRefs(length));\n    const hiddenInputRef = useRef(null);\n    const setValue = useCallback((index, newValue) => {\n        const newValues = [...currentValues];\n        newValues[index] = newValue;\n        if (!isControlled) {\n            setInternalValues(newValues);\n        }\n        const completeValue = getPinValue(newValues);\n        if (hiddenInputRef.current) {\n            hiddenInputRef.current.value = completeValue;\n        }\n        onChange?.(completeValue);\n        if (isComplete(newValues)) {\n            onComplete?.(completeValue);\n        }\n    }, [currentValues, isControlled, onChange, onComplete]);\n    const focusField = useCallback((index) => {\n        const field = fieldRefs.current[index];\n        if (field && !disabled) {\n            field.focus();\n        }\n    }, [disabled]);\n    const handleFocus = useCallback((index) => {\n        onFocus?.(index);\n    }, [onFocus]);\n    const handleBlur = useCallback((index) => {\n        onBlur?.(index);\n    }, [onBlur]);\n    useEffect(() => {\n        if (autoFocus && !disabled) {\n            setTimeout(() => {\n                focusField(0);\n            }, 0);\n        }\n    }, [autoFocus, disabled, focusField]);\n    useEffect(() => {\n        if (isControlled) {\n            const newValues = splitValue(value, length);\n            if (hiddenInputRef.current) {\n                hiddenInputRef.current.value = getPinValue(newValues);\n            }\n        }\n    }, [isControlled, value, length]);\n    const contextValue = {\n        values: currentValues,\n        type,\n        variant,\n        size,\n        hasError,\n        disabled,\n        masked,\n        maskChar,\n        length,\n        fieldRefs,\n        setValue,\n        focusField,\n        handleFocus,\n        handleBlur,\n    };\n    const containerClassName = pinInputContainerRecipe({ size });\n    const componentClassName = buildPinInputClassName(variant, size, hasError, disabled, className);\n    return (_jsx(PinInputContext.Provider, { value: contextValue, children: _jsxs(\"div\", { className: `${containerClassName} ${componentClassName}`, role: \"group\", \"aria-label\": ariaLabel || `PIN input with ${length} digits`, \"aria-describedby\": ariaDescribedBy, \"data-error\": hasError || undefined, \"data-disabled\": disabled || undefined, children: [_jsx(\"input\", { ref: hiddenInputRef, type: \"text\", name: \"pin\", defaultValue: getPinValue(currentValues), className: hiddenInput, tabIndex: -1, \"aria-hidden\": \"true\", readOnly: true }), children] }) }));\n};\nPinInput.displayName = 'PinInput';\n"],"names":["_jsx","_jsxs"],"mappings":"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"}