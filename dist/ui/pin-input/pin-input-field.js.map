{"version":3,"file":"pin-input-field.js","sources":["../../../src/ui/pin-input/pin-input-field.tsx"],"sourcesContent":["'use client';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { forwardRef, useContext, useImperativeHandle, useRef, } from 'react';\nimport { getDisplayValue, handleCharInput, handleKeyNavigation, handlePasteContent, INPUT_MODES, } from './helpers';\nimport { PinInputContext } from './pin-input-context';\nimport { pinInputFieldRecipe } from './pin-input.css';\nexport const PinInputField = forwardRef(({ index, className }, ref) => {\n    const context = useContext(PinInputContext);\n    const inputRef = useRef(null);\n    if (!context) {\n        throw new Error('PinInputField must be used within a PinInput component');\n    }\n    const { values, type, variant, size, hasError, disabled, masked, maskChar, length, fieldRefs, setValue, focusField, handleFocus, handleBlur, } = context;\n    useImperativeHandle(ref, () => inputRef.current, []);\n    if (fieldRefs.current) {\n        fieldRefs.current[index] = inputRef.current;\n    }\n    const currentValue = values[index] || '';\n    const displayValue = getDisplayValue(currentValue, masked, maskChar);\n    const handleKeyDown = (event) => {\n        const { key } = event;\n        const wasHandled = handleKeyNavigation(key, index, currentValue, length, setValue, focusField);\n        if (wasHandled) {\n            event.preventDefault();\n            return;\n        }\n        if (key.length === 1) {\n            event.preventDefault();\n            handleCharInput(key, index, type, length, setValue, focusField);\n        }\n    };\n    const handlePaste = (event) => {\n        event.preventDefault();\n        const pastedData = event.clipboardData.getData('text');\n        if (!pastedData)\n            return;\n        handlePasteContent(pastedData, index, type, length, setValue, focusField);\n    };\n    const handleChange = (event) => {\n        const newValue = event.target.value;\n        if (newValue.length <= 1) {\n            const char = newValue.slice(-1);\n            if (char) {\n                handleCharInput(char, index, type, length, setValue, focusField);\n            }\n            else {\n                setValue(index, '');\n            }\n        }\n    };\n    const handleInputFocus = (event) => {\n        event.target.select();\n        handleFocus(index);\n    };\n    const handleInputBlur = (event) => {\n        handleBlur(index);\n    };\n    const fieldClassName = pinInputFieldRecipe({\n        variant,\n        size,\n    });\n    const combinedClassName = className\n        ? `${fieldClassName} ${className}`\n        : fieldClassName;\n    return (_jsx(\"input\", { ref: inputRef, type: \"text\", inputMode: INPUT_MODES[type], autoComplete: \"off\", autoCapitalize: \"none\", autoCorrect: \"off\", spellCheck: \"false\", maxLength: 1, value: displayValue, disabled: disabled, className: combinedClassName, \"data-index\": index, \"data-error\": hasError || undefined, \"data-disabled\": disabled || undefined, onChange: handleChange, onKeyDown: handleKeyDown, onPaste: handlePaste, onFocus: handleInputFocus, onBlur: handleInputBlur, \"aria-label\": `PIN digit ${index + 1} of ${length}`, role: \"textbox\", \"aria-invalid\": hasError }));\n});\nPinInputField.displayName = 'PinInputField';\n"],"names":["_jsx"],"mappings":";;;;;;AAMY,MAAC,aAAa,GAAG,UAAU,CAAC,CAAC,EAAE,KAAK,EAAE,SAAS,EAAE,EAAE,GAAG,KAAK;AACvE,IAAI,MAAM,OAAO,GAAG,UAAU,CAAC,eAAe,CAAC;AAC/C,IAAI,MAAM,QAAQ,GAAG,MAAM,CAAC,IAAI,CAAC;AACjC,IAAI,IAAI,CAAC,OAAO,EAAE;AAClB,QAAQ,MAAM,IAAI,KAAK,CAAC,wDAAwD,CAAC;AACjF,IAAI;AACJ,IAAI,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,QAAQ,EAAE,QAAQ,EAAE,MAAM,EAAE,QAAQ,EAAE,MAAM,EAAE,SAAS,EAAE,QAAQ,EAAE,UAAU,EAAE,WAAW,EAAE,UAAU,GAAG,GAAG,OAAO;AAC5J,IAAI,mBAAmB,CAAC,GAAG,EAAE,MAAM,QAAQ,CAAC,OAAO,EAAE,EAAE,CAAC;AACxD,IAAI,IAAI,SAAS,CAAC,OAAO,EAAE;AAC3B,QAAQ,SAAS,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,QAAQ,CAAC,OAAO;AACnD,IAAI;AACJ,IAAI,MAAM,YAAY,GAAG,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE;AAC5C,IAAI,MAAM,YAAY,GAAG,eAAe,CAAC,YAAY,EAAE,MAAM,EAAE,QAAQ,CAAC;AACxE,IAAI,MAAM,aAAa,GAAG,CAAC,KAAK,KAAK;AACrC,QAAQ,MAAM,EAAE,GAAG,EAAE,GAAG,KAAK;AAC7B,QAAQ,MAAM,UAAU,GAAG,mBAAmB,CAAC,GAAG,EAAE,KAAK,EAAE,YAAY,EAAE,MAAM,EAAE,QAAQ,EAAE,UAAU,CAAC;AACtG,QAAQ,IAAI,UAAU,EAAE;AACxB,YAAY,KAAK,CAAC,cAAc,EAAE;AAClC,YAAY;AACZ,QAAQ;AACR,QAAQ,IAAI,GAAG,CAAC,MAAM,KAAK,CAAC,EAAE;AAC9B,YAAY,KAAK,CAAC,cAAc,EAAE;AAClC,YAAY,eAAe,CAAC,GAAG,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,UAAU,CAAC;AAC3E,QAAQ;AACR,IAAI,CAAC;AACL,IAAI,MAAM,WAAW,GAAG,CAAC,KAAK,KAAK;AACnC,QAAQ,KAAK,CAAC,cAAc,EAAE;AAC9B,QAAQ,MAAM,UAAU,GAAG,KAAK,CAAC,aAAa,CAAC,OAAO,CAAC,MAAM,CAAC;AAC9D,QAAQ,IAAI,CAAC,UAAU;AACvB,YAAY;AACZ,QAAQ,kBAAkB,CAAC,UAAU,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,UAAU,CAAC;AACjF,IAAI,CAAC;AACL,IAAI,MAAM,YAAY,GAAG,CAAC,KAAK,KAAK;AACpC,QAAQ,MAAM,QAAQ,GAAG,KAAK,CAAC,MAAM,CAAC,KAAK;AAC3C,QAAQ,IAAI,QAAQ,CAAC,MAAM,IAAI,CAAC,EAAE;AAClC,YAAY,MAAM,IAAI,GAAG,QAAQ,CAAC,KAAK,CAAC,EAAE,CAAC;AAC3C,YAAY,IAAI,IAAI,EAAE;AACtB,gBAAgB,eAAe,CAAC,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,UAAU,CAAC;AAChF,YAAY;AACZ,iBAAiB;AACjB,gBAAgB,QAAQ,CAAC,KAAK,EAAE,EAAE,CAAC;AACnC,YAAY;AACZ,QAAQ;AACR,IAAI,CAAC;AACL,IAAI,MAAM,gBAAgB,GAAG,CAAC,KAAK,KAAK;AACxC,QAAQ,KAAK,CAAC,MAAM,CAAC,MAAM,EAAE;AAC7B,QAAQ,WAAW,CAAC,KAAK,CAAC;AAC1B,IAAI,CAAC;AACL,IAAI,MAAM,eAAe,GAAG,CAAC,KAAK,KAAK;AACvC,QAAQ,UAAU,CAAC,KAAK,CAAC;AACzB,IAAI,CAAC;AACL,IAAI,MAAM,cAAc,GAAG,mBAAmB,CAAC;AAC/C,QAAQ,OAAO;AACf,QAAQ,IAAI;AACZ,KAAK,CAAC;AACN,IAAI,MAAM,iBAAiB,GAAG;AAC9B,UAAU,CAAC,EAAE,cAAc,CAAC,CAAC,EAAE,SAAS,CAAC;AACzC,UAAU,cAAc;AACxB,IAAI,QAAQA,GAAI,CAAC,OAAO,EAAE,EAAE,GAAG,EAAE,QAAQ,EAAE,IAAI,EAAE,MAAM,EAAE,SAAS,EAAE,WAAW,CAAC,IAAI,CAAC,EAAE,YAAY,EAAE,KAAK,EAAE,cAAc,EAAE,MAAM,EAAE,WAAW,EAAE,KAAK,EAAE,UAAU,EAAE,OAAO,EAAE,SAAS,EAAE,CAAC,EAAE,KAAK,EAAE,YAAY,EAAE,QAAQ,EAAE,QAAQ,EAAE,SAAS,EAAE,iBAAiB,EAAE,YAAY,EAAE,KAAK,EAAE,YAAY,EAAE,QAAQ,IAAI,SAAS,EAAE,eAAe,EAAE,QAAQ,IAAI,SAAS,EAAE,QAAQ,EAAE,YAAY,EAAE,SAAS,EAAE,aAAa,EAAE,OAAO,EAAE,WAAW,EAAE,OAAO,EAAE,gBAAgB,EAAE,MAAM,EAAE,eAAe,EAAE,YAAY,EAAE,CAAC,UAAU,EAAE,KAAK,GAAG,CAAC,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC,EAAE,IAAI,EAAE,SAAS,EAAE,cAAc,EAAE,QAAQ,EAAE,CAAC;AACjkB,CAAC;AACD,aAAa,CAAC,WAAW,GAAG,eAAe;;;;"}