{"version":3,"file":"drawer.js","sources":["../../../src/ui/drawer/drawer.tsx"],"sourcesContent":["'use client';\nimport { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { X } from 'lucide-react';\nimport React, { useEffect, useId, useState, } from 'react';\nimport { Button as AriaButton, Modal as AriaModal, Dialog, DialogTrigger, Heading, ModalOverlay, } from 'react-aria-components';\nimport { Icon } from '@/icons';\nimport { darkTheme, lightTheme } from '@/tokens/themes.css';\nimport * as styles from './drawer.css';\nimport { buildDrawerBodyClassName, buildDrawerDialogClassName, buildDrawerFooterClassName, getAnimationSpeed, scrollLockManager, } from './helpers';\nexport const Drawer = ({ size = 'medium', placement = 'right', isDismissable = true, isKeyboardDismissDisabled = false, animationSpeed = 'normal', disableAnimation = false, children, className, ...props }) => {\n    const [currentTheme, setCurrentTheme] = useState('light');\n    useEffect(() => {\n        const detectTheme = () => {\n            if (typeof document !== 'undefined') {\n                const theme = document.documentElement.getAttribute('data-theme') || 'light';\n                setCurrentTheme(theme);\n            }\n        };\n        detectTheme();\n        const observer = new MutationObserver((mutations) => {\n            for (const mutation of mutations) {\n                if (mutation.type === 'attributes' &&\n                    mutation.attributeName === 'data-theme') {\n                    detectTheme();\n                }\n            }\n        });\n        if (typeof document !== 'undefined') {\n            observer.observe(document.documentElement, {\n                attributes: true,\n                attributeFilter: ['data-theme'],\n            });\n        }\n        return () => observer.disconnect();\n    }, []);\n    const themeClassName = currentTheme === 'dark' ? darkTheme : lightTheme;\n    useEffect(() => {\n        return () => {\n            if (scrollLockManager.isLocked()) {\n                scrollLockManager.unlock();\n            }\n        };\n    }, []);\n    const animationStyles = React.useMemo(() => {\n        if (disableAnimation) {\n            return {\n                animationDuration: '0ms',\n                animationName: 'none',\n            };\n        }\n        const speed = getAnimationSpeed(animationSpeed);\n        return {\n            '--drawer-animation-duration-enter': `${speed.enter}ms`,\n            '--drawer-animation-duration-exit': `${speed.exit}ms`,\n        };\n    }, [animationSpeed, disableAnimation]);\n    return (_jsx(ModalOverlay, { className: `${styles.drawerOverlay} ${themeClassName}`, isDismissable: isDismissable, isKeyboardDismissDisabled: isKeyboardDismissDisabled, style: animationStyles, ...props, children: _jsx(AriaModal, { children: _jsx(Dialog, { className: buildDrawerDialogClassName(placement, size, undefined), style: animationStyles, children: typeof children === 'function'\n                    ? children(() => {\n                    })\n                    : children }) }) }));\n};\nexport const DrawerTrigger = ({ children, ...props }) => _jsx(DialogTrigger, { ...props, children: children });\nexport const DrawerHeader = ({ title, showCloseButton = true, children, }) => {\n    const titleId = useId();\n    return (_jsxs(\"header\", { className: styles.drawerHeader, children: [_jsxs(\"div\", { children: [title && (_jsx(Heading, { id: titleId, className: styles.drawerTitle, slot: \"title\", children: title })), children] }), showCloseButton && (_jsx(AriaButton, { className: styles.drawerCloseButton, \"aria-label\": \"Close drawer\", slot: \"close\", children: _jsx(Icon, { icon: X, size: \"sm\" }) }))] }));\n};\nexport const DrawerBody = ({ children, className, }) => (_jsx(\"div\", { className: buildDrawerBodyClassName(true, true, className), children: children }));\nexport const DrawerFooter = ({ children, className, }) => (_jsx(\"footer\", { className: buildDrawerFooterClassName(className), children: children }));\nexport const DrawerContent = ({ title, showCloseButton = true, children, ...props }) => {\n    return (_jsxs(_Fragment, { children: [title && (_jsx(DrawerHeader, { title: title, showCloseButton: showCloseButton })), _jsx(DrawerBody, { className: buildDrawerBodyClassName(!!title), children: children })] }));\n};\nDrawer.displayName = 'Drawer';\nDrawerTrigger.displayName = 'DrawerTrigger';\nDrawerContent.displayName = 'DrawerContent';\nDrawerHeader.displayName = 'DrawerHeader';\nDrawerBody.displayName = 'DrawerBody';\nDrawerFooter.displayName = 'DrawerFooter';\n"],"names":["_jsx","styles.drawerOverlay","AriaModal","_jsxs","styles.drawerHeader","styles.drawerTitle","AriaButton","styles.drawerCloseButton","_Fragment"],"mappings":";;;;;;;;;AASY,MAAC,MAAM,GAAG,CAAC,EAAE,IAAI,GAAG,QAAQ,EAAE,SAAS,GAAG,OAAO,EAAE,aAAa,GAAG,IAAI,EAAE,yBAAyB,GAAG,KAAK,EAAE,cAAc,GAAG,QAAQ,EAAE,gBAAgB,GAAG,KAAK,EAAE,QAAQ,EAAE,SAAS,EAAE,GAAG,KAAK,EAAE,KAAK;AACjN,IAAI,MAAM,CAAC,YAAY,EAAE,eAAe,CAAC,GAAG,QAAQ,CAAC,OAAO,CAAC;AAC7D,IAAI,SAAS,CAAC,MAAM;AACpB,QAAQ,MAAM,WAAW,GAAG,MAAM;AAClC,YAAY,IAAI,OAAO,QAAQ,KAAK,WAAW,EAAE;AACjD,gBAAgB,MAAM,KAAK,GAAG,QAAQ,CAAC,eAAe,CAAC,YAAY,CAAC,YAAY,CAAC,IAAI,OAAO;AAC5F,gBAAgB,eAAe,CAAC,KAAK,CAAC;AACtC,YAAY;AACZ,QAAQ,CAAC;AACT,QAAQ,WAAW,EAAE;AACrB,QAAQ,MAAM,QAAQ,GAAG,IAAI,gBAAgB,CAAC,CAAC,SAAS,KAAK;AAC7D,YAAY,KAAK,MAAM,QAAQ,IAAI,SAAS,EAAE;AAC9C,gBAAgB,IAAI,QAAQ,CAAC,IAAI,KAAK,YAAY;AAClD,oBAAoB,QAAQ,CAAC,aAAa,KAAK,YAAY,EAAE;AAC7D,oBAAoB,WAAW,EAAE;AACjC,gBAAgB;AAChB,YAAY;AACZ,QAAQ,CAAC,CAAC;AACV,QAAQ,IAAI,OAAO,QAAQ,KAAK,WAAW,EAAE;AAC7C,YAAY,QAAQ,CAAC,OAAO,CAAC,QAAQ,CAAC,eAAe,EAAE;AACvD,gBAAgB,UAAU,EAAE,IAAI;AAChC,gBAAgB,eAAe,EAAE,CAAC,YAAY,CAAC;AAC/C,aAAa,CAAC;AACd,QAAQ;AACR,QAAQ,OAAO,MAAM,QAAQ,CAAC,UAAU,EAAE;AAC1C,IAAI,CAAC,EAAE,EAAE,CAAC;AACV,IAAI,MAAM,cAAc,GAAG,YAAY,KAAK,MAAM,GAAG,SAAS,GAAG,UAAU;AAC3E,IAAI,SAAS,CAAC,MAAM;AACpB,QAAQ,OAAO,MAAM;AACrB,YAAY,IAAI,iBAAiB,CAAC,QAAQ,EAAE,EAAE;AAC9C,gBAAgB,iBAAiB,CAAC,MAAM,EAAE;AAC1C,YAAY;AACZ,QAAQ,CAAC;AACT,IAAI,CAAC,EAAE,EAAE,CAAC;AACV,IAAI,MAAM,eAAe,GAAG,KAAK,CAAC,OAAO,CAAC,MAAM;AAChD,QAAQ,IAAI,gBAAgB,EAAE;AAC9B,YAAY,OAAO;AACnB,gBAAgB,iBAAiB,EAAE,KAAK;AACxC,gBAAgB,aAAa,EAAE,MAAM;AACrC,aAAa;AACb,QAAQ;AACR,QAAQ,MAAM,KAAK,GAAG,iBAAiB,CAAC,cAAc,CAAC;AACvD,QAAQ,OAAO;AACf,YAAY,mCAAmC,EAAE,CAAC,EAAE,KAAK,CAAC,KAAK,CAAC,EAAE,CAAC;AACnE,YAAY,kCAAkC,EAAE,CAAC,EAAE,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC;AACjE,SAAS;AACT,IAAI,CAAC,EAAE,CAAC,cAAc,EAAE,gBAAgB,CAAC,CAAC;AAC1C,IAAI,QAAQA,GAAI,CAAC,YAAY,EAAE,EAAE,SAAS,EAAE,CAAC,EAAEC,aAAoB,CAAC,CAAC,EAAE,cAAc,CAAC,CAAC,EAAE,aAAa,EAAE,aAAa,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,KAAK,EAAE,eAAe,EAAE,GAAG,KAAK,EAAE,QAAQ,EAAED,GAAI,CAACE,KAAS,EAAE,EAAE,QAAQ,EAAEF,GAAI,CAAC,MAAM,EAAE,EAAE,SAAS,EAAE,0BAA0B,CAAC,SAAS,EAAE,IAAI,EAAE,SAAS,CAAC,EAAE,KAAK,EAAE,eAAe,EAAE,QAAQ,EAAE,OAAO,QAAQ,KAAK;AAC7X,sBAAsB,QAAQ,CAAC,MAAM;AACrC,oBAAoB,CAAC;AACrB,sBAAsB,QAAQ,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;AACvC;AACY,MAAC,aAAa,GAAG,CAAC,EAAE,QAAQ,EAAE,GAAG,KAAK,EAAE,KAAKA,GAAI,CAAC,aAAa,EAAE,EAAE,GAAG,KAAK,EAAE,QAAQ,EAAE,QAAQ,EAAE;AACjG,MAAC,YAAY,GAAG,CAAC,EAAE,KAAK,EAAE,eAAe,GAAG,IAAI,EAAE,QAAQ,GAAG,KAAK;AAC9E,IAAI,MAAM,OAAO,GAAG,KAAK,EAAE;AAC3B,IAAI,QAAQG,IAAK,CAAC,QAAQ,EAAE,EAAE,SAAS,EAAEC,YAAmB,EAAE,QAAQ,EAAE,CAACD,IAAK,CAAC,KAAK,EAAE,EAAE,QAAQ,EAAE,CAAC,KAAK,KAAKH,GAAI,CAAC,OAAO,EAAE,EAAE,EAAE,EAAE,OAAO,EAAE,SAAS,EAAEK,WAAkB,EAAE,IAAI,EAAE,OAAO,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,CAAC,EAAE,QAAQ,CAAC,EAAE,CAAC,EAAE,eAAe,KAAKL,GAAI,CAACM,MAAU,EAAE,EAAE,SAAS,EAAEC,iBAAwB,EAAE,YAAY,EAAE,cAAc,EAAE,IAAI,EAAE,OAAO,EAAE,QAAQ,EAAEP,GAAI,CAAC,IAAI,EAAE,EAAE,IAAI,EAAE,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;AACzY;AACY,MAAC,UAAU,GAAG,CAAC,EAAE,QAAQ,EAAE,SAAS,GAAG,MAAMA,GAAI,CAAC,KAAK,EAAE,EAAE,SAAS,EAAE,wBAAwB,CAAC,IAAI,EAAE,IAAI,EAAE,SAAS,CAAC,EAAE,QAAQ,EAAE,QAAQ,EAAE,CAAC;AAC5I,MAAC,YAAY,GAAG,CAAC,EAAE,QAAQ,EAAE,SAAS,GAAG,MAAMA,GAAI,CAAC,QAAQ,EAAE,EAAE,SAAS,EAAE,0BAA0B,CAAC,SAAS,CAAC,EAAE,QAAQ,EAAE,QAAQ,EAAE,CAAC;AACvI,MAAC,aAAa,GAAG,CAAC,EAAE,KAAK,EAAE,eAAe,GAAG,IAAI,EAAE,QAAQ,EAAE,GAAG,KAAK,EAAE,KAAK;AACxF,IAAI,QAAQG,IAAK,CAACK,QAAS,EAAE,EAAE,QAAQ,EAAE,CAAC,KAAK,KAAKR,GAAI,CAAC,YAAY,EAAE,EAAE,KAAK,EAAE,KAAK,EAAE,eAAe,EAAE,eAAe,EAAE,CAAC,CAAC,EAAEA,GAAI,CAAC,UAAU,EAAE,EAAE,SAAS,EAAE,wBAAwB,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,QAAQ,EAAE,QAAQ,EAAE,CAAC,CAAC,EAAE,CAAC;AACvN;AACA,MAAM,CAAC,WAAW,GAAG,QAAQ;AAC7B,aAAa,CAAC,WAAW,GAAG,eAAe;AAC3C,aAAa,CAAC,WAAW,GAAG,eAAe;AAC3C,YAAY,CAAC,WAAW,GAAG,cAAc;AACzC,UAAU,CAAC,WAAW,GAAG,YAAY;AACrC,YAAY,CAAC,WAAW,GAAG,cAAc;;;;"}